"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createFixtureTree = createFixtureTree;

var _util = require("../../util");

var _collapseFixtureDirs = require("./collapseFixtureDirs");

var _collapseIndexes = require("./collapseIndexes");

var _collapseNamedIndexes = require("./collapseNamedIndexes");

var _collapseOuterDirs = require("./collapseOuterDirs");

var _createRawFixtureTree = require("./createRawFixtureTree");

var _hideFixtureSuffix = require("./hideFixtureSuffix");

function createFixtureTree(_ref) {
  var fixtures = _ref.fixtures,
      fixturesDir = _ref.fixturesDir,
      fixtureFileSuffix = _ref.fixtureFileSuffix;
  var tree = (0, _createRawFixtureTree.createRawFixtureTree)(fixtures);
  tree = (0, _collapseFixtureDirs.collapseFixtureDirs)(tree, fixturesDir);
  tree = (0, _hideFixtureSuffix.hideFixtureSuffix)(tree, fixtureFileSuffix);
  tree = (0, _collapseIndexes.collapseIndexes)(tree);
  tree = (0, _collapseNamedIndexes.collapseNamedIndexes)(tree);
  tree = (0, _collapseOuterDirs.collapseOuterDirs)(tree);
  return (0, _util.sortTreeChildren)(tree);
}