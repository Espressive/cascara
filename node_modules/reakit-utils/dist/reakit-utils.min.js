!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReakitUtils={},e.React)}(this,(function(e,t){"use strict";var n,r="undefined"!=typeof window&&!(null===(n=window.document)||void 0===n||!n.createElement);function o(e){return e?e.ownerDocument||e:document}function u(e){return o(e).defaultView||window}function i(e){var t=o(e).activeElement;return null!=t&&t.nodeName?t:null}function a(e,t){return e===t||e.contains(t)}var c=["button","color","file","image","reset","submit"];function f(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}function l(e,t){if("closest"in e)return e.closest(t);do{if(f(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function s(e,t){var n=(null==e?void 0:e.tagName)||("string"==typeof t?t:void 0);return null==n?void 0:n.toLowerCase()}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function g(e,t,n){if("function"==typeof Event)return new Event(t,n);var r=o(e).createEvent("Event");return r.initEvent(t,null==n?void 0:n.bubbles,null==n?void 0:n.cancelable),r}function m(e,t,n){return void 0===n&&(n={}),"function"==typeof FocusEvent?new FocusEvent(t,n):g(e,t,n)}var h="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function E(e){return f(e,h)&&function(e){var t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)}function O(e){return E(e)&&!function(e){return parseInt(e.getAttribute("tabindex")||"0",10)<0}(e)}function w(e){var t=Array.from(e.querySelectorAll(h));return t.unshift(e),t.filter(E)}function A(e,t){var n=Array.from(e.querySelectorAll(h)),r=n.filter(O);return O(e)&&r.unshift(e),!r.length&&t?n:r}function j(e){var t=i(e);if(!t)return!1;if(t===e)return!0;var n=t.getAttribute("aria-activedescendant");return!!n&&n===e.id}var S=r?t.useLayoutEffect:t.useEffect;function T(e){return void 0===e&&(e=null),function(t){t&&("function"==typeof t?t(e):t.current=e)}}function x(e){return"object"==typeof e&&null!=e}function F(e,t){return-1===t?e:[].concat(e.slice(0,t),e.slice(t+1))}e.applyState=function(e,t){return function(e){return"function"==typeof e}(e)?e(t):e},e.canUseDOM=r,e.closest=l,e.contains=a,e.createEvent=g,e.ensureFocus=function(e,t){var n=void 0===t?{}:t,r=n.preventScroll,o=n.isActive,u=void 0===o?j:o;return u(e)?-1:(e.focus({preventScroll:r}),u(e)?-1:requestAnimationFrame((function(){e.focus({preventScroll:r})})))},e.fireBlurEvent=function(e,t){var n=m(e,"blur",t),r=e.dispatchEvent(n),o=d(d({},t),{},{bubbles:!0});return e.dispatchEvent(m(e,"focusout",o)),r},e.fireEvent=function(e,t,n){return e.dispatchEvent(g(e,t,n))},e.fireKeyboardEvent=function(e,t,n){return e.dispatchEvent(function(e,t,n){void 0===n&&(n={});if("function"==typeof KeyboardEvent)return new KeyboardEvent(t,n);var r=o(e).createEvent("KeyboardEvent");return r.initKeyboardEvent(t,n.bubbles,n.cancelable,u(e),n.key,n.location,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey),r}(e,t,n))},e.flatten=function e(t){for(var n,r=[],o=p(t);!(n=o()).done;){var u=n.value;Array.isArray(u)?r.push.apply(r,e(u)):r.push(u)}return r},e.getActiveElement=i,e.getAllFocusableIn=w,e.getAllTabbableIn=A,e.getClosestFocusable=function(e){for(;e&&!E(e);)e=l(e,h);return e},e.getDocument=o,e.getFirstFocusableIn=function(e){return w(e)[0]||null},e.getFirstTabbableIn=function(e,t){return A(e,t)[0]||null},e.getLastTabbableIn=function(e,t){var n=A(e,t);return n[n.length-1]||null},e.getNativeElementType=s,e.getNextActiveElementOnBlur=function(e){return r&&"msCrypto"in window?i(e.currentTarget):e.relatedTarget},e.getNextTabbableIn=function(e,t){var n=i(e),r=w(e),o=r.indexOf(n),u=r.slice(o+1);return u.find(O)||r.find(O)||(t?u[0]:null)},e.getPreviousTabbableIn=function(e,t){var n=i(e),r=w(e).reverse(),o=r.indexOf(n),u=r.slice(o+1);return u.find(O)||r.find(O)||(t?u[0]:null)},e.getWindow=u,e.hasFocus=j,e.hasFocusWithin=function(e){var t=i(e);if(!t)return!1;if(a(e,t))return!0;var n=t.getAttribute("aria-activedescendant");return!!n&&(n===e.id||!!e.querySelector("#"+n))},e.isButton=function(e){var t=e.tagName.toLowerCase();return"button"===t||!("input"!==t||!e.type)&&-1!==c.indexOf(e.type)},e.isEmpty=function(e){return Array.isArray(e)?!e.length:x(e)?!Object.keys(e).length:null==e||""===e},e.isFocusable=E,e.isInteger=function(e){return"number"==typeof e?Math.floor(e)===e:String(Math.floor(Number(e)))===e},e.isObject=x,e.isPlainObject=function(e){var t;if(!x(e))return!1;var n=Object.getPrototypeOf(e);return null==n||(null===(t=n.constructor)||void 0===t?void 0:t.toString())===Object.toString()},e.isPortalEvent=function(e){return!a(e.currentTarget,e.target)},e.isPromise=function(e){return Boolean(e&&"then"in e&&e.then)},e.isSelfTarget=function(e){return e.target===e.currentTarget},e.isTabbable=O,e.isTextField=function(e){try{var t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName,r="true"===e.contentEditable;return t||n||r||!1}catch(e){return!1}},e.isUA=function(e){return!!r&&-1!==window.navigator.userAgent.indexOf(e)},e.matches=f,e.omit=function(e,t){for(var n=Object.keys(e),r={},o=0;o<n.length;o+=1){var u=n[o];-1===t.indexOf(u)&&(r[u]=e[u])}return r},e.pick=function(e,t){for(var n=Object.keys(e),r={},o=0;o<n.length;o+=1){var u=n[o];t.indexOf(u)>=0&&(r[u]=e[u])}return r},e.removeIndexFromArray=F,e.removeItemFromArray=function(e,t){var n=e.indexOf(t);return F(e,n)},e.shallowEqual=function(e,t){if(e===t)return!0;if(!e)return!1;if(!t)return!1;if("object"!=typeof e)return!1;if("object"!=typeof t)return!1;var n=Object.keys(e),r=Object.keys(t),o=n.length;if(r.length!==o)return!1;for(var u=0,i=n;u<i.length;u++){var a=i[u];if(e[a]!==t[a])return!1}return!0},e.toArray=function(e){return Array.isArray(e)?e:void 0!==e?[e]:[]},e.useEventCallback=function(e){var n=t.useRef((function(){throw new Error("Cannot call an event handler while rendering.")}));return S((function(){n.current=e})),t.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[])},e.useForkRef=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((function(){return n.some(Boolean)?function(e){n.forEach(T(e))}:null}),n)},e.useInitialValue=function(e){return t.useState(e)[0]},e.useLazyRef=function(e){var n=t.useRef();return void 0===n.current&&(n.current=e()),n.current},e.useLiveRef=function(e){var n=t.useRef(e);return S((function(){n.current=e})),n},e.useNativeElementType=function(e,n){var r=t.useState((function(){return s(null,n)})),o=r[0],u=r[1];return S((function(){u(s(e.current,n))}),[e,n]),o},e.useSafeLayoutEffect=S,e.useUpdateEffect=function(e,n){var r=t.useRef(!1);t.useEffect((function(){if(r.current)return e();r.current=!0}),n)},Object.defineProperty(e,"__esModule",{value:!0})}));
