{"version":3,"sources":["NestingChild.tsx"],"names":["NestingChildInner","childRef","React","createRef","getRefs","props","getContextRefs","componentDidMount","register","componentWillUnmount","unregister","render","children","Component","NestingChild","contextValue"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;IAKMA,iB;;;;;;;;;;;UACJC,Q,gBAAWC,KAAK,CAACC,SAAN,E;;UAUXC,O,GAAU;AAAA,aAAiB,MAAKC,KAAL,CAAWC,cAAX,CAA0B,MAAKL,QAA/B,CAAjB;AAAA,K;;;;;;;SARVM,iB,GAAA,6BAAoB;AAClB,SAAKF,KAAL,CAAWG,QAAX,CAAoB,KAAKP,QAAzB;AACD,G;;SAEDQ,oB,GAAA,gCAAuB;AACrB,SAAKJ,KAAL,CAAWK,UAAX,CAAsB,KAAKT,QAA3B;AACD,G;;SAIDU,M,GAAA,kBAAS;AACP,WAAO,KAAKN,KAAL,CAAWO,QAAX,CAAoB,KAAKR,OAAzB,EAAkC,KAAKH,QAAvC,CAAP;AACD,G;;;EAf6CC,KAAK,CAACW,S;;AAkB/C,IAAMC,YAAmD,GAAG,SAAtDA,YAAsD;AAAA,MAAGF,QAAH,QAAGA,QAAH;AAAA,sBACjE,oBAAC,8BAAD,CAAgB,QAAhB,QACG,UAACG,YAAD;AAAA,wBAAuC,oBAAC,iBAAD,EAAuBA,YAAvB,EAAsCH,QAAtC,CAAvC;AAAA,GADH,CADiE;AAAA,CAA5D","sourcesContent":["import * as React from 'react';\n\nimport { NestingContext } from './NestingContext';\nimport { NestingContextValue, NestingProps, NodeRef } from './types';\n\ntype NestingChildInnerProps = NestingContextValue & NestingProps;\n\nclass NestingChildInner<T extends Node> extends React.Component<NestingChildInnerProps> {\n  childRef = React.createRef<T>();\n\n  componentDidMount() {\n    this.props.register(this.childRef as any);\n  }\n\n  componentWillUnmount() {\n    this.props.unregister(this.childRef as any);\n  }\n\n  getRefs = (): NodeRef[] => this.props.getContextRefs(this.childRef as any);\n\n  render() {\n    return this.props.children(this.getRefs, this.childRef as any);\n  }\n}\n\nexport const NestingChild: React.FunctionComponent<NestingProps> = ({ children }) => (\n  <NestingContext.Consumer>\n    {(contextValue: NestingContextValue) => <NestingChildInner {...contextValue}>{children}</NestingChildInner>}\n  </NestingContext.Consumer>\n);\n"],"file":"NestingChild.js"}