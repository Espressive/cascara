{"version":3,"sources":["utils/RefStack.ts"],"names":["RefStack","set","Set","getContextRefs","ref","nodes","Array","from","refId","indexOf","slice","register","add","unregister","delete"],"mappings":";;;;;IAEaA,Q;;;OACHC,G,GAAM,IAAIC,GAAJ,E;;OAEPC,c,GAAiB,UAACC,GAAD,EAA6B;AACnD,QAAMC,KAAK,GAAGC,KAAK,CAACC,IAAN,CAAW,KAAI,CAACN,GAAhB,CAAd;AACA,QAAMO,KAAK,GAAGH,KAAK,CAACI,OAAN,CAAcL,GAAd,CAAd;AAEA,WAAOC,KAAK,CAACK,KAAN,CAAYF,KAAZ,CAAP;AACD,G;;OAEMG,Q,GAAW,UAACP,GAAD,EAAwB;AACxC,IAAA,KAAI,CAACH,GAAL,CAASW,GAAT,CAAaR,GAAb;AACD,G;;OAEMS,U,GAAa,UAACT,GAAD,EAAwB;AAC1C,IAAA,KAAI,CAACH,GAAL,CAASa,MAAT,CAAgBV,GAAhB;AACD,G","sourcesContent":["import { NodeRef } from '../types';\n\nexport class RefStack {\n  private set = new Set<NodeRef>();\n\n  public getContextRefs = (ref: NodeRef): NodeRef[] => {\n    const nodes = Array.from(this.set);\n    const refId = nodes.indexOf(ref);\n\n    return nodes.slice(refId);\n  };\n\n  public register = (ref: NodeRef): void => {\n    this.set.add(ref);\n  };\n\n  public unregister = (ref: NodeRef): void => {\n    this.set.delete(ref);\n  };\n}\n"],"file":"RefStack.js"}