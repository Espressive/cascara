{"version":3,"sources":["NestingRoot.tsx"],"names":["NestingRoot","registry","RefStack","parentRef","React","createRef","getRefs","getContextRefs","componentDidMount","register","componentWillUnmount","unregister","render","props","children","Component"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;AACA;;IAGaA,W;;;;;;;;;;;UACXC,Q,GAAW,IAAIC,kBAAJ,E;UACXC,S,gBAAYC,KAAK,CAACC,SAAN,E;;UAUZC,O,GAAU;AAAA,aAAiB,MAAKL,QAAL,CAAcM,cAAd,CAA6B,MAAKJ,SAAlC,CAAjB;AAAA,K;;;;;;;SARVK,iB,GAAA,6BAAoB;AAClB,SAAKP,QAAL,CAAcQ,QAAd,CAAuB,KAAKN,SAA5B;AACD,G;;SAEDO,oB,GAAA,gCAAuB;AACrB,SAAKT,QAAL,CAAcU,UAAd,CAAyB,KAAKR,SAA9B;AACD,G;;SAIDS,M,GAAA,kBAAS;AACP,wBACE,oBAAC,8BAAD,CAAgB,QAAhB;AAAyB,MAAA,KAAK,EAAE,KAAKX;AAArC,OACG,KAAKY,KAAL,CAAWC,QAAX,CAAoB,KAAKR,OAAzB,EAAkC,KAAKH,SAAvC,CADH,CADF;AAKD,G;;;EApB8CC,KAAK,CAACW,S","sourcesContent":["import * as React from 'react';\n\nimport { RefStack } from './utils/RefStack';\nimport { NestingContext } from './NestingContext';\nimport { NestingProps, NodeRef } from './types';\n\nexport class NestingRoot<T extends Node> extends React.Component<NestingProps> {\n  registry = new RefStack();\n  parentRef = React.createRef<T>();\n\n  componentDidMount() {\n    this.registry.register(this.parentRef as any);\n  }\n\n  componentWillUnmount() {\n    this.registry.unregister(this.parentRef as any);\n  }\n\n  getRefs = (): NodeRef[] => this.registry.getContextRefs(this.parentRef as any);\n\n  render() {\n    return (\n      <NestingContext.Provider value={this.registry}>\n        {this.props.children(this.getRefs, this.parentRef as any)}\n      </NestingContext.Provider>\n    );\n  }\n}\n"],"file":"NestingRoot.js"}