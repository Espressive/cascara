{"version":3,"sources":["NestingChild.tsx"],"names":["React","NestingContext","NestingChildInner","childRef","createRef","getRefs","props","getContextRefs","componentDidMount","register","componentWillUnmount","unregister","render","children","Component","NestingChild","contextValue"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,SAASC,cAAT,QAA+B,kBAA/B;;IAKMC,iB;;;;;;;;;;;UACJC,Q,gBAAWH,KAAK,CAACI,SAAN,E;;UAUXC,O,GAAU;AAAA,aAAiB,MAAKC,KAAL,CAAWC,cAAX,CAA0B,MAAKJ,QAA/B,CAAjB;AAAA,K;;;;;;;SARVK,iB,GAAA,6BAAoB;AAClB,SAAKF,KAAL,CAAWG,QAAX,CAAoB,KAAKN,QAAzB;AACD,G;;SAEDO,oB,GAAA,gCAAuB;AACrB,SAAKJ,KAAL,CAAWK,UAAX,CAAsB,KAAKR,QAA3B;AACD,G;;SAIDS,M,GAAA,kBAAS;AACP,WAAO,KAAKN,KAAL,CAAWO,QAAX,CAAoB,KAAKR,OAAzB,EAAkC,KAAKF,QAAvC,CAAP;AACD,G;;;EAf6CH,KAAK,CAACc,S;;AAkBtD,OAAO,IAAMC,YAAmD,GAAG,SAAtDA,YAAsD;AAAA,MAAGF,QAAH,QAAGA,QAAH;AAAA,sBACjE,oBAAC,cAAD,CAAgB,QAAhB,QACG,UAACG,YAAD;AAAA,wBAAuC,oBAAC,iBAAD,EAAuBA,YAAvB,EAAsCH,QAAtC,CAAvC;AAAA,GADH,CADiE;AAAA,CAA5D","sourcesContent":["import * as React from 'react';\n\nimport { NestingContext } from './NestingContext';\nimport { NestingContextValue, NestingProps, NodeRef } from './types';\n\ntype NestingChildInnerProps = NestingContextValue & NestingProps;\n\nclass NestingChildInner<T extends Node> extends React.Component<NestingChildInnerProps> {\n  childRef = React.createRef<T>();\n\n  componentDidMount() {\n    this.props.register(this.childRef as any);\n  }\n\n  componentWillUnmount() {\n    this.props.unregister(this.childRef as any);\n  }\n\n  getRefs = (): NodeRef[] => this.props.getContextRefs(this.childRef as any);\n\n  render() {\n    return this.props.children(this.getRefs, this.childRef as any);\n  }\n}\n\nexport const NestingChild: React.FunctionComponent<NestingProps> = ({ children }) => (\n  <NestingContext.Consumer>\n    {(contextValue: NestingContextValue) => <NestingChildInner {...contextValue}>{children}</NestingChildInner>}\n  </NestingContext.Consumer>\n);\n"],"file":"NestingChild.js"}