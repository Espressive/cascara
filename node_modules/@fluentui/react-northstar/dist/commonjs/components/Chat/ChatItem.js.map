{"version":3,"sources":["components/Chat/ChatItem.tsx"],"names":["chatItemClassName","chatItemSlotClassNames","message","gutter","ChatItem","props","context","displayName","telemetry","setStart","setEnd","chatDensity","accessibility","attached","children","className","contentPosition","density","design","styles","variables","getA11Props","debugName","rtl","mapPropsToStyles","mapPropsToInlineStyles","classes","resolvedStyles","renderContent","gutterElement","Box","create","defaultProps","messageElement","ElementType","unhandledProps","handledProps","element","root","rtlTextContainer","getAttributes","forElements","as","propTypes","commonPropTypes","createCommon","content","PropTypes","oneOfType","bool","oneOf","customPropTypes","itemShorthand","Object","keys","Component","mappedProp"],"mappings":"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","sourcesContent":["import { Accessibility } from '@fluentui/accessibility';\nimport {\n  ComponentWithAs,\n  getElementType,\n  useAccessibility,\n  useFluentContext,\n  useStyles,\n  useTelemetry,\n  useUnhandledProps,\n} from '@fluentui/react-bindings';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { FluentComponentStaticProps, ShorthandValue } from '../../types';\nimport {\n  ChildrenComponentProps,\n  childrenExist,\n  commonPropTypes,\n  createShorthandFactory,\n  rtlTextContainer,\n  UIComponentProps,\n} from '../../utils';\nimport { Box, BoxProps } from '../Box/Box';\nimport { ChatDensity, useChatDensityContext } from './chatDensityContext';\nimport { ChatItemContextProvider } from './chatItemContext';\n\nexport interface ChatItemSlotClassNames {\n  message: string;\n  gutter: string;\n}\n\nexport const chatItemClassName = 'ui-chat__item';\nexport const chatItemSlotClassNames: ChatItemSlotClassNames = {\n  message: `${chatItemClassName}__message`,\n  gutter: `${chatItemClassName}__gutter`,\n};\n\nexport interface ChatItemProps extends UIComponentProps, ChildrenComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<never>;\n\n  /** Controls item's relation to other chat items. */\n  attached?: boolean | 'top' | 'bottom';\n\n  /** Indicates whether the content is positioned at the start or the end. */\n  contentPosition?: 'start' | 'end';\n\n  /** Chat density. Is automatically set by the Chat. */\n  density?: ChatDensity;\n\n  /** Chat items can have a gutter. */\n  gutter?: ShorthandValue<BoxProps>;\n\n  /** Chat items can have a message. */\n  message?: ShorthandValue<BoxProps>;\n}\n\nexport type ChatItemStylesProps = Pick<ChatItemProps, 'attached' | 'contentPosition' | 'density'>;\n\n/**\n * A ChatItem is container for single entity in Chat (e.g. message, notification, etc).\n */\nexport const ChatItem: ComponentWithAs<'li', ChatItemProps> & FluentComponentStaticProps<ChatItemProps> = props => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(ChatItem.displayName, context.telemetry);\n  setStart();\n\n  const chatDensity = useChatDensityContext();\n  const {\n    accessibility,\n    attached,\n    children,\n    className,\n    contentPosition,\n    density = chatDensity,\n    design,\n    gutter,\n    message,\n    styles,\n    variables,\n  } = props;\n\n  const getA11Props = useAccessibility(accessibility, {\n    debugName: ChatItem.displayName,\n    rtl: context.rtl,\n  });\n  const { classes, styles: resolvedStyles } = useStyles<ChatItemStylesProps>(ChatItem.displayName, {\n    className: chatItemClassName,\n    mapPropsToStyles: () => ({\n      attached,\n      contentPosition,\n      density,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const renderContent = () => {\n    const gutterElement = Box.create(gutter, {\n      defaultProps: () =>\n        getA11Props('gutter', {\n          className: chatItemSlotClassNames.gutter,\n          styles: resolvedStyles.gutter,\n        }),\n    });\n    const messageElement = Box.create(message, {\n      defaultProps: () =>\n        getA11Props('message', {\n          className: chatItemSlotClassNames.message,\n          styles: resolvedStyles.message,\n        }),\n    });\n\n    return (\n      <ChatItemContextProvider value={{ attached }}>\n        {(contentPosition === 'start' || density === 'compact') && gutterElement}\n        {messageElement}\n        {contentPosition === 'end' && density === 'comfy' && gutterElement}\n      </ChatItemContextProvider>\n    );\n  };\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(ChatItem.handledProps, props);\n\n  const element = (\n    <ElementType\n      {...getA11Props('root', {\n        className: classes.root,\n        ...rtlTextContainer.getAttributes({ forElements: [children] }),\n        ...unhandledProps,\n      })}\n    >\n      {childrenExist(children) ? children : renderContent()}\n    </ElementType>\n  );\n  setEnd();\n\n  return element;\n};\n\nChatItem.displayName = 'ChatItem';\n\nChatItem.defaultProps = {\n  as: 'li',\n  contentPosition: 'start',\n  attached: false,\n};\nChatItem.propTypes = {\n  ...commonPropTypes.createCommon({ content: false }),\n  attached: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf<'top' | 'bottom'>(['top', 'bottom'])]),\n  contentPosition: PropTypes.oneOf(['start', 'end']),\n  density: PropTypes.oneOf<ChatDensity>(['comfy', 'compact']),\n  gutter: customPropTypes.itemShorthand,\n  message: customPropTypes.itemShorthand,\n};\nChatItem.handledProps = Object.keys(ChatItem.propTypes) as any;\n\nChatItem.create = createShorthandFactory({ Component: ChatItem, mappedProp: 'message' });\n"],"file":"ChatItem.js"}