{"version":3,"sources":["components/Animation/Animation.tsx"],"names":["useUnhandledProps","unstable_calculateAnimationTimeout","calculateAnimationTimeout","useFluentContext","useTelemetry","cx","PropTypes","React","Transition","childrenExist","commonPropTypes","useAnimationStyles","Animation","props","context","displayName","telemetry","setStart","setEnd","appear","children","className","mountOnEnter","timeout","visible","unmountOnExit","handleAnimationEvent","event","animationClasses","animationDuration","animationDelay","timeoutResult","unhandledProps","handledProps","isChildrenFunction","child","Children","only","element","classes","propTypes","createCommon","accessibility","as","content","oneOfType","func","name","string","delay","direction","duration","fillMode","iterationCount","keyframeParams","object","playState","timingFunction","bool","number","shape","enter","exit","onEnter","onEntering","onEntered","onExit","onExiting","onExited","Object","keys"],"mappings":"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","sourcesContent":["import {\n  useUnhandledProps,\n  unstable_calculateAnimationTimeout as calculateAnimationTimeout,\n  useFluentContext,\n  useTelemetry,\n} from '@fluentui/react-bindings';\nimport cx from 'classnames';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { Transition } from 'react-transition-group';\n\nimport { childrenExist, commonPropTypes, ChildrenComponentProps } from '../../utils';\nimport { ComponentEventHandler } from '../../types';\nimport { useAnimationStyles } from './useAnimationStyles';\n\nexport type AnimationChildrenProp = (props: { classes: string }) => React.ReactNode;\n\nexport interface AnimationProps extends ChildrenComponentProps<AnimationChildrenProp | React.ReactChild> {\n  /** Additional CSS class name(s) to apply.  */\n  className?: string;\n\n  /** The name for the animation that should be applied, defined in the theme. */\n  name?: string;\n\n  /** Specifies a delay for the start of an animation. Negative values are\n   * also allowed. If using negative values, the animation will start as if it had already been\n   * playing for that amount of time.\n   */\n  delay?: string;\n\n  /** Specifies whether an animation should be played forwards, backwards or in alternate cycles.\n   * It can have the following values:\n   * - normal (default) - The animation is played as normal (forwards)\n   * - reverse - The animation is played in reverse direction (backwards)\n   * - alternate - The animation is played forwards first, then backwards\n   * - alternate-reverse - The animation is played backwards first, then forwards\n   */\n  direction?: string;\n\n  /** Specifies how long an animation should take to complete. */\n  duration?: string;\n\n  /**\n   * Specifies a style for the target element when the animation is not playing (i.e. before it starts, after it ends, or both).\n   * It can have the following values:\n   * - none (default) - Animation will not apply any styles to the element before or after it is executing\n   * - forwards - The element will retain the style values that is set by the last keyframe (depends on animation-direction and animation-iteration-count)\n   * - backwards - The element will get the style values that is set by the first keyframe (depends on animation-direction), and retain this during the animation-delay period\n   * - both - The animation will follow the rules for both forwards and backwards, extending the animation properties in both directions\n   * */\n  fillMode?: string;\n\n  /** Specifies the number of times an animation should run. */\n  iterationCount?: string;\n\n  /** Custom parameters for the keyframe defined for the animation. */\n  keyframeParams?: object;\n\n  /**\n   * Specifies whether the animation is running or paused. It can have the following values:\n   * - paused - Specifies that the animation is paused\n   * - running - Default value. Specifies that the animation is running\n   * - initial - Sets this property to its default value.\n   * - inherit - Inherits this property from its parent element.\n   * */\n  playState?: string;\n\n  /**\n   * Specifies the speed curve of the animation. It can have the following values:\n   * - ease - Specifies an animation with a slow start, then fast, then end slowly (this is default)\n   * - linear - Specifies an animation with the same speed from start to end\n   * - ease-in - Specifies an animation with a slow start\n   * - ease-out - Specifies an animation with a slow end\n   * - ease-in-out - Specifies an animation with a slow start and end\n   * - cubic-bezier(n,n,n,n) - Lets you define your own values in a cubic-bezier function\n   */\n  timingFunction?: string;\n\n  /** Show the component; triggers the enter or exit animation. */\n  visible?: boolean;\n\n  /** Run the enter animation when the component mounts, if it is initially shown. */\n  appear?: boolean;\n\n  /** Wait until the first \"enter\" transition to mount the component (add it to the DOM). */\n  mountOnEnter?: boolean;\n\n  /** Unmount the component (remove it from the DOM) when it is not shown. */\n  unmountOnExit?: boolean;\n\n  /** The duration of the transition, in milliseconds. */\n  timeout?: number | { enter?: number; exit?: number; appear?: number };\n\n  /**\n   * Callback fired before the \"entering\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onEnter?: ComponentEventHandler<AnimationProps>;\n\n  /**\n   * Callback fired after the \"entering\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onEntering?: ComponentEventHandler<AnimationProps>;\n\n  /**\n   * Callback fired after the \"entered\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onEntered?: ComponentEventHandler<AnimationProps>;\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onExit?: ComponentEventHandler<AnimationProps>;\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onExiting?: ComponentEventHandler<AnimationProps>;\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onExited?: ComponentEventHandler<AnimationProps>;\n}\n\n/**\n * An Animation provides animation effects to rendered elements.\n */\nexport const Animation: React.FC<AnimationProps> & {\n  handledProps: (keyof AnimationProps)[];\n} = props => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(Animation.displayName, context.telemetry);\n  setStart();\n\n  const { appear, children, className, mountOnEnter, timeout, visible, unmountOnExit } = props;\n\n  const handleAnimationEvent = (\n    event: 'onEnter' | 'onEntering' | 'onEntered' | 'onExit' | 'onExiting' | 'onExited',\n  ) => () => {\n    _.invoke(props, event, null, props);\n  };\n\n  const { className: animationClasses, animationDuration, animationDelay } = useAnimationStyles(\n    Animation.displayName,\n    props,\n  );\n  const timeoutResult = timeout || calculateAnimationTimeout(animationDuration, animationDelay) || 0;\n\n  const unhandledProps = useUnhandledProps(Animation.handledProps, props);\n\n  if (_.isNil(children)) {\n    setEnd();\n    return null;\n  }\n\n  const isChildrenFunction = typeof children === 'function';\n  const child = childrenExist(children) && !isChildrenFunction && (React.Children.only(children) as React.ReactElement);\n\n  const element = (\n    <Transition\n      in={visible}\n      appear={appear}\n      mountOnEnter={mountOnEnter}\n      unmountOnExit={unmountOnExit}\n      timeout={timeoutResult}\n      onEnter={handleAnimationEvent('onEnter')}\n      onEntering={handleAnimationEvent('onEntering')}\n      onEntered={handleAnimationEvent('onEntered')}\n      onExit={handleAnimationEvent('onExit')}\n      onExiting={handleAnimationEvent('onExiting')}\n      onExited={handleAnimationEvent('onExited')}\n      {...unhandledProps}\n      className={!isChildrenFunction ? cx(animationClasses, className, (child as any)?.props?.className) : ''}\n    >\n      {isChildrenFunction\n        ? () => (children as AnimationChildrenProp)({ classes: cx(animationClasses, className) })\n        : child}\n    </Transition>\n  );\n  setEnd();\n\n  return element;\n};\n\nAnimation.displayName = 'Animation';\n\nAnimation.propTypes = {\n  ...commonPropTypes.createCommon({\n    accessibility: false,\n    as: false,\n    content: false,\n    children: false,\n  }),\n  children: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  name: PropTypes.string,\n  delay: PropTypes.string,\n  direction: PropTypes.string,\n  duration: PropTypes.string,\n  fillMode: PropTypes.string,\n  iterationCount: PropTypes.string,\n  keyframeParams: PropTypes.object,\n  playState: PropTypes.string,\n  timingFunction: PropTypes.string,\n  visible: PropTypes.bool,\n  appear: PropTypes.bool,\n  mountOnEnter: PropTypes.bool,\n  unmountOnExit: PropTypes.bool,\n  timeout: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.shape({\n      appear: PropTypes.number,\n      enter: PropTypes.number,\n      exit: PropTypes.number,\n    }),\n  ]),\n  onEnter: PropTypes.func,\n  onEntering: PropTypes.func,\n  onEntered: PropTypes.func,\n  onExit: PropTypes.func,\n  onExiting: PropTypes.func,\n  onExited: PropTypes.func,\n};\nAnimation.handledProps = Object.keys(Animation.propTypes) as any;\n"],"file":"Animation.js"}