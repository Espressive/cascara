{"version":3,"sources":["themes/teams/components/Chat/chatMessageStyles.ts"],"names":["defaultChatDensity","chatMessageSlotClassNames","pxToRem","getBorderFocusStyles","chatMessageStylesComfy","chatMessageStylesCompact","displayActionMenu","overlayZIndex","zIndex","overflow","opacity","width","chatMessageDensityStyles","comfy","compact","getChatMessageDensityStyles","density","chatMessageStyles","root","componentStyleFunctionParam","p","props","v","variables","siteVariables","theme","borderRadius","color","display","outline","position","wordBreak","wordWrap","showActionMenu","hasActionMenu","actionMenu","defaultShowActionMenu","focused","backgroundColor","border","borderColor","reactionGroupBorderColor","boxShadow","actionMenuBoxShadow","author","compactBody","timestamp","timestampColor","content","contentColor","mine","linkColorMine","linkColor","textDecoration","badge","hasMention","hasMentionNubbinColor","isImportantColor","badgeShadow","badgeTextColor","height","padding","reactionGroup"],"mappings":"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","sourcesContent":["import { ComponentSlotStylesPrepared, ICSSInJSStyle } from '@fluentui/styles';\nimport { isNil } from 'lodash';\n\nimport { ChatDensity, defaultChatDensity } from '../../../../components/Chat/chatDensityContext';\nimport { chatMessageSlotClassNames, ChatMessageStylesProps } from '../../../../components/Chat/ChatMessage';\nimport { pxToRem } from '../../../../utils';\nimport { getBorderFocusStyles } from '../../getBorderFocusStyles';\nimport { chatMessageStylesComfy } from './chatMessageStylesComfy';\nimport { chatMessageStylesCompact } from './chatMessageStylesCompact';\nimport { ChatMessageVariables } from './chatMessageVariables';\n\nconst displayActionMenu = (overlayZIndex: ICSSInJSStyle['zIndex']): ICSSInJSStyle => ({\n  // we need higher zIndex for the action menu in order to be displayed above the focus border of the chat message\n  zIndex: overlayZIndex,\n  overflow: 'visible',\n  // opacity should always be preferred over visibility in order to avoid accessibility bugs in\n  // JAWS behavior on Windows\n  opacity: 1,\n  width: 'auto',\n});\n\nconst chatMessageDensityStyles: Record<\n  ChatDensity,\n  ComponentSlotStylesPrepared<ChatMessageStylesProps, ChatMessageVariables>\n> = {\n  comfy: chatMessageStylesComfy,\n  compact: chatMessageStylesCompact,\n};\n\nconst getChatMessageDensityStyles = (density: ChatDensity = defaultChatDensity) => chatMessageDensityStyles[density];\n\nexport const chatMessageStyles: ComponentSlotStylesPrepared<ChatMessageStylesProps, ChatMessageVariables> = {\n  root: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const {\n      props: p,\n      variables: v,\n      theme: { siteVariables },\n    } = componentStyleFunctionParam;\n    return {\n      borderRadius: v.borderRadius,\n      color: v.color,\n      display: 'inline-block',\n      outline: 0,\n      position: 'relative',\n      wordBreak: 'break-word',\n      wordWrap: 'break-word',\n\n      ...getBorderFocusStyles({ borderRadius: 'inherit', variables: siteVariables }),\n\n      // ActionMenu's appearance can be controlled by the value of showActionMenu variable - in this\n      // case this variable will serve the single source of truth on whether actions menu should be shown.\n      // Otherwise, if the variable is not provided, the default appearance logic will be used for actions menu.\n      ...(isNil(v.showActionMenu) &&\n        p.hasActionMenu && {\n          ':hover': {\n            [`> .${chatMessageSlotClassNames.actionMenu}`]: displayActionMenu(v.overlayZIndex),\n          },\n          ...(p.showActionMenu && {\n            [`> .${chatMessageSlotClassNames.actionMenu}`]: displayActionMenu(v.overlayZIndex),\n          }),\n        }),\n\n      ...getChatMessageDensityStyles(p.density).root?.(componentStyleFunctionParam),\n    };\n  },\n\n  actionMenu: ({ props: p, variables: v }): ICSSInJSStyle => {\n    const defaultShowActionMenu = p.hasActionMenu && (p.focused || p.showActionMenu);\n    const showActionMenu = isNil(v.showActionMenu) ? defaultShowActionMenu : v.showActionMenu;\n\n    return {\n      backgroundColor: v.backgroundColor,\n      border: '1px solid',\n      borderColor: v.reactionGroupBorderColor,\n      borderRadius: v.borderRadius,\n      boxShadow: v.actionMenuBoxShadow,\n      '[data-popper-escaped]': { opacity: 0 },\n\n      zIndex: -1,\n      overflow: 'hidden',\n      opacity: 0,\n      width: 0,\n      ...(showActionMenu && displayActionMenu(v.overlayZIndex)),\n    };\n  },\n\n  author: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageDensityStyles(p.density).author?.(componentStyleFunctionParam);\n  },\n\n  compactBody: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageDensityStyles(p.density).compactBody?.(componentStyleFunctionParam);\n  },\n\n  timestamp: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p, variables: v } = componentStyleFunctionParam;\n    return {\n      color: v.timestampColor,\n      ...getChatMessageDensityStyles(p.density).timestamp?.(componentStyleFunctionParam),\n    };\n  },\n\n  content: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p, variables: v } = componentStyleFunctionParam;\n    return {\n      color: v.contentColor,\n      display: 'block',\n      '& a': {\n        outline: 'none',\n        color: p.mine ? v.linkColorMine : v.linkColor,\n        ':focus': {\n          textDecoration: 'underline',\n        },\n      },\n      ...getChatMessageDensityStyles(p.density).content?.(componentStyleFunctionParam),\n    };\n  },\n\n  badge: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p, variables: v } = componentStyleFunctionParam;\n    return {\n      backgroundColor: v.hasMention ? v.hasMentionNubbinColor : v.isImportantColor,\n      borderRadius: '50%',\n      boxShadow: v.badgeShadow,\n      color: v.badgeTextColor,\n      height: 'auto',\n      padding: pxToRem(4),\n      width: 'auto',\n      zIndex: v.zIndex,\n      '& > :first-child': { display: 'inline-flex' },\n      ...getChatMessageDensityStyles(p.density).badge?.(componentStyleFunctionParam),\n    };\n  },\n\n  reactionGroup: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageDensityStyles(p.density).reactionGroup?.(componentStyleFunctionParam);\n  },\n};\n"],"file":"chatMessageStyles.js"}