"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useDispatchEffect = void 0;
var React = require("react");
var useDispatchEffect = function (dispatchEffect) {
    var latestEffect = React.useRef(dispatchEffect);
    var latestEvent = React.useRef(null);
    latestEffect.current = dispatchEffect;
    var dispatch = React.useCallback(function (e, action) {
        var args = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            args[_i - 2] = arguments[_i];
        }
        latestEvent.current = e;
        action.apply(void 0, args);
        latestEvent.current = null;
    }, []);
    var sideEffect = React.useCallback(function (prevState, nextState) {
        return latestEffect.current(latestEvent.current, prevState, nextState);
    }, []);
    return [dispatch, sideEffect];
};
exports.useDispatchEffect = useDispatchEffect;
