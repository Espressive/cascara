{"version":3,"sources":["felaInvokeKeyframesPlugin.ts"],"names":["callable","felaInvokeKeyframesPlugin","styles","Object","keys","reduce","acc","cssPropertyName","cssPropertyValue","animationDefinition","keyframe","params"],"mappings":";AAAA,SAA4BA,QAA5B,QAA2D,kBAA3D;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMC,yBAAyB,GAAG,SAA5BA,yBAA4B,CAACC,MAAD,EAA0C;AACjF,SAAOC,MAAM,CAACC,IAAP,CAAYF,MAAZ,EAAoBG,MAApB,CAA2B,UAACC,GAAD,EAAMC,eAAN,EAA+C;AAAA;;AAC/E,QAAMC,gBAAgB,GAAGN,MAAM,CAACK,eAAD,CAA/B;;AAEA,QAAI,eAAgBC,gBAAhB,CAAJ,EAAuC;AAAA;;AACrC,UAAID,eAAe,KAAK,eAAxB,EAAyC;AAAA;;AACvC,YAAME,mBAAmB,GAAGD,gBAA5B;;AAEA,YAAIC,mBAAmB,CAACC,QAAxB,EAAkC;AAChCR,UAAAA,MAAM,CAACK,eAAD,CAAN,GAA0BP,QAAQ,CAACS,mBAAmB,CAACC,QAArB,CAAR,CAAuCD,mBAAmB,CAACE,MAApB,IAA8B,EAArE,CAA1B;AACD;;AAED,iCACKL,GADL,uCAEGC,eAFH,IAEqBL,MAAM,CAACK,eAAD,CAF3B;AAID;;AAED,+BACKD,GADL,yCAEGC,eAFH,IAEqBN,yBAAyB,CAACO,gBAAD,CAF9C;AAID;;AAED,6BAAYF,GAAZ,yCAAkBC,eAAlB,IAAoCL,MAAM,CAACK,eAAD,CAA1C;AACD,GAxBM,EAwBJ,EAxBI,CAAP;AAyBD,CA1BM","sourcesContent":["import { AnimationKeyFrame, callable, ICSSInJSStyle } from '@fluentui/styles';\nimport * as _ from 'lodash';\n\n/**\n * Fela plugin for invoking keyframes with params. The keyframes, defined in the animationName prop,\n * are called with the params object, if defined in the animationName prop.\n *\n * Caution! Infinite recursion is possible in case if style object has links to self in the props\n * tree.\n */\nexport const felaInvokeKeyframesPlugin = (styles: ICSSInJSStyle): ICSSInJSStyle => {\n  return Object.keys(styles).reduce((acc, cssPropertyName: keyof ICSSInJSStyle) => {\n    const cssPropertyValue = styles[cssPropertyName];\n\n    if (_.isPlainObject(cssPropertyValue)) {\n      if (cssPropertyName === 'animationName') {\n        const animationDefinition = cssPropertyValue as AnimationKeyFrame;\n\n        if (animationDefinition.keyframe) {\n          styles[cssPropertyName] = callable(animationDefinition.keyframe)(animationDefinition.params || {});\n        }\n\n        return {\n          ...acc,\n          [cssPropertyName]: styles[cssPropertyName],\n        };\n      }\n\n      return {\n        ...acc,\n        [cssPropertyName]: felaInvokeKeyframesPlugin(cssPropertyValue as ICSSInJSStyle),\n      };\n    }\n\n    return { ...acc, [cssPropertyName]: styles[cssPropertyName] };\n  }, {});\n};\n"],"file":"felaInvokeKeyframesPlugin.js"}