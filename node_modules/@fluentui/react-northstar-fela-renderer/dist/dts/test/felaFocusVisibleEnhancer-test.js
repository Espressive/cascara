"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var fela_1 = require("fela");
var fela_tools_1 = require("fela-tools");
var fela_utils_1 = require("fela-utils");
var felaFocusVisibleEnhancer_1 = require("../src/felaFocusVisibleEnhancer");
describe('felaFocusVisibleEnhancer', function () {
    test('replaces :focus-visible', function () {
        var renderer = fela_1.createRenderer({
            enhancers: [felaFocusVisibleEnhancer_1.felaFocusVisibleEnhancer],
        });
        renderer.renderRule(function () { return ({ borderColor: 'green' }); }, null);
        renderer.renderRule(function () { return ({ ':focus': { borderColor: 'yellow' } }); }, null);
        renderer.renderRule(function () { return ({ ':focus-visible': { borderColor: 'red' } }); }, null);
        expect(fela_tools_1.renderToString(renderer)).toMatchSnapshot();
    });
    test('replaces :focus-visible', function () {
        var renderer = fela_1.createRenderer({
            enhancers: [felaFocusVisibleEnhancer_1.felaFocusVisibleEnhancer],
        });
        var subscription = jest.fn();
        renderer.subscribe(subscription);
        renderer.renderRule(function () { return ({ ':focus-visible': { borderColor: 'red' } }); }, null);
        expect(subscription).toBeCalledWith(expect.objectContaining({
            pseudo: ':focus',
            selector: 'html[data-whatinput="keyboard"] .a:focus',
            type: fela_utils_1.RULE_TYPE,
        }));
    });
});
