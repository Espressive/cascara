{"version":3,"sources":["behaviors/Toolbar/menuItemAsToolbarButtonBehavior.ts"],"names":["menuItemAsToolbarButtonBehavior","props","attributes","wrapper","role","root","tabIndex","hasMenu","undefined","keyActions","performClick","keyCombinations","keyCode","keyboardKey","Enter","SpacebarKey","closeMenuAndFocusTrigger","Escape","openMenu","vertical","ArrowDown","doNotNavigateNextParentItem","menuOpen","ArrowLeft","ArrowRight"],"mappings":";;;;;AAAA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMA,+BAAqE,GAAG,SAAxEA,+BAAwE,CAAAC,KAAK;AAAA,SAAK;AAC7FC,IAAAA,UAAU,EAAE;AACVC,MAAAA,OAAO,EAAE;AACPC,QAAAA,IAAI,EAAE;AADC,OADC;AAIVC,MAAAA,IAAI,EAAE;AACJD,QAAAA,IAAI,EAAE,QADF;AAEJE,QAAAA,QAAQ,EAAE,CAFN;AAGJ,yBAAiBL,KAAK,CAACM,OAAN,GAAgB,MAAhB,GAAyBC,SAHtC;AAIJ,yBAAiBP,KAAK,CAAC,UAAD,CAJlB;AAKJ,sBAAcA,KAAK,CAAC,YAAD,CALf;AAMJ,2BAAmBA,KAAK,CAAC,iBAAD,CANpB;AAOJ,4BAAoBA,KAAK,CAAC,kBAAD;AAPrB;AAJI,KADiF;AAgB7FQ,IAAAA,UAAU,EAAE;AACVN,MAAAA,OAAO,EAAE;AACPO,QAAAA,YAAY,EAAE;AACZC,UAAAA,eAAe,EAAE,CAAC;AAAEC,YAAAA,OAAO,EAAEC,yBAAYC;AAAvB,WAAD,EAAiC;AAAEF,YAAAA,OAAO,EAAEG;AAAX,WAAjC;AADL,SADP;AAIPC,QAAAA,wBAAwB,EAAE;AACxBL,UAAAA,eAAe,EAAE,CAAC;AAAEC,YAAAA,OAAO,EAAEC,yBAAYI;AAAvB,WAAD;AADO,SAJnB;AAOPC,QAAAA,QAAQ,EAAE,CAACjB,KAAK,CAACkB,QAAP,IAAmB;AAC3BR,UAAAA,eAAe,EAAE,CAAC;AAAEC,YAAAA,OAAO,EAAEC,yBAAYO;AAAvB,WAAD;AADU,SAPtB;AAUPC,QAAAA,2BAA2B,EAAE;AAC3BV,UAAAA,eAAe,EACbV,KAAK,CAACM,OAAN,IAAiBN,KAAK,CAACqB,QAAvB,GACI,CAAC;AAAEV,YAAAA,OAAO,EAAEC,yBAAYU;AAAvB,WAAD,EAAqC;AAAEX,YAAAA,OAAO,EAAEC,yBAAYW;AAAvB,WAArC,CADJ,GAEI;AAJqB;AAVtB;AADC;AAhBiF,GAAL;AAAA,CAAnF","sourcesContent":["import { keyboardKey, SpacebarKey } from '../../keyboard-key';\n\nimport { Accessibility } from '../../types';\nimport { MenuItemBehaviorProps } from '../Menu/menuItemBehavior';\n\n/**\n * @description\n * The behavior is designed for particular structure of menu item. The item consists of root element and anchor inside the root element.\n *\n * @specification\n * Adds role 'presentation' to 'wrapper' slot.\n * Adds role 'button' to 'root' slot.\n * Adds attribute 'tabIndex=0' to 'root' slot.\n * Adds attribute 'aria-label' based on the property 'aria-label' to 'root' slot.\n * Adds attribute 'aria-labelledby' based on the property 'aria-labelledby' to 'root' slot.\n * Adds attribute 'aria-describedby' based on the property 'aria-describedby' to 'root' slot.\n * Adds attribute 'aria-disabled=true' based on the property 'disabled'. This can be overriden by providing 'aria-disabled' property directly to the component.\n * Adds attribute 'aria-haspopup=true' to 'root' slot if 'hasMenu' property is set.\n * Triggers 'performClick' action with 'Enter' or 'Spacebar' on 'wrapper'.\n * Triggers 'closeMenuAndFocusTrigger' action with 'Escape' on 'wrapper'.\n * Triggers 'openMenu' action with 'ArrowDown' on 'wrapper', when orientation is horizontal.\n * Triggers 'doNotNavigateNextParentItem' action with 'ArrowLeft' or 'ArrowRight' on 'wrapper', when toolbar button has submenu and it is opened.\n */\nexport const menuItemAsToolbarButtonBehavior: Accessibility<MenuItemBehaviorProps> = props => ({\n  attributes: {\n    wrapper: {\n      role: 'presentation',\n    },\n    root: {\n      role: 'button',\n      tabIndex: 0,\n      'aria-haspopup': props.hasMenu ? 'true' : undefined,\n      'aria-disabled': props['disabled'],\n      'aria-label': props['aria-label'],\n      'aria-labelledby': props['aria-labelledby'],\n      'aria-describedby': props['aria-describedby'],\n    },\n  },\n\n  keyActions: {\n    wrapper: {\n      performClick: {\n        keyCombinations: [{ keyCode: keyboardKey.Enter }, { keyCode: SpacebarKey }],\n      },\n      closeMenuAndFocusTrigger: {\n        keyCombinations: [{ keyCode: keyboardKey.Escape }],\n      },\n      openMenu: !props.vertical && {\n        keyCombinations: [{ keyCode: keyboardKey.ArrowDown }],\n      },\n      doNotNavigateNextParentItem: {\n        keyCombinations:\n          props.hasMenu && props.menuOpen\n            ? [{ keyCode: keyboardKey.ArrowLeft }, { keyCode: keyboardKey.ArrowRight }]\n            : null,\n      },\n    },\n  },\n});\n"],"file":"menuItemAsToolbarButtonBehavior.js"}