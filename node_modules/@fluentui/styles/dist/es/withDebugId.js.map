{"version":3,"sources":["withDebugId.ts"],"names":["isEnabled","isDebugEnabled","withDebugId","process","env","NODE_ENV","data","debugId","undefined","Object","prototype","hasOwnProperty","call","copy","defineProperty","value","writable","enumerable","result"],"mappings":"AAAA,SAASA,SAAS,IAAIC,cAAtB,QAA4C,gBAA5C;AAEA,OAAO,IAAMC,WAAW,GACtBC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACI,UAAIC,IAAJ,EAAaC,OAAb;AAAA,SAAoCD,IAApC;AAAA,CADJ,GAEI,UAAIA,IAAJ,EAAaC,OAAb,EAAoC;AAClC,MAAI,CAACN,cAAD,IAAmBM,OAAO,KAAKC,SAAnC,EAA8C;AAC5C,WAAOF,IAAP;AACD;;AAED,MAAI,OAAOA,IAAP,KAAgB,QAAhB,IAA4BA,IAAI,KAAK,IAAzC,EAA+C;AAC7C,QAAI,CAACG,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCN,IAArC,EAA2C,UAA3C,CAAL,EAA6D;AAC3D,UAAMO,IAAI,qBAAQP,IAAR,CAAV;AACAG,MAAAA,MAAM,CAACK,cAAP,CAAsBD,IAAtB,EAA4B,UAA5B,EAAwC;AACtCE,QAAAA,KAAK,EAAER,OAD+B;AAEtCS,QAAAA,QAAQ,EAAE,KAF4B;AAGtCC,QAAAA,UAAU,EAAE;AAH0B,OAAxC;AAKA,aAAOJ,IAAP;AACD;AACF;;AAED,MAAI,OAAOP,IAAP,KAAgB,UAApB,EAAgC;AAC9B,WAAS,YAAa;AACpB,UAAMY,MAAM,GAAGZ,IAAI,MAAJ,mBAAf;AACA,aAAOJ,WAAW,CAACgB,MAAD,EAASX,OAAT,CAAlB;AACD,KAHD;AAID;;AAED,SAAOD,IAAP;AACD,CA5BA","sourcesContent":["import { isEnabled as isDebugEnabled } from './debugEnabled';\n\nexport const withDebugId =\n  process.env.NODE_ENV === 'production'\n    ? <T>(data: T, debugId: string): T => data\n    : <T>(data: T, debugId: string): T => {\n        if (!isDebugEnabled || debugId === undefined) {\n          return data;\n        }\n\n        if (typeof data === 'object' && data !== null) {\n          if (!Object.prototype.hasOwnProperty.call(data, '_debugId')) {\n            const copy = { ...data };\n            Object.defineProperty(copy, '_debugId', {\n              value: debugId,\n              writable: false,\n              enumerable: false,\n            });\n            return copy;\n          }\n        }\n\n        if (typeof data === 'function') {\n          return (((...args) => {\n            const result = data(...args);\n            return withDebugId(result, debugId);\n          }) as unknown) as T;\n        }\n\n        return data;\n      };\n"],"file":"withDebugId.js"}