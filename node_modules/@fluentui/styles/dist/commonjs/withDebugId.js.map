{"version":3,"sources":["withDebugId.ts"],"names":["withDebugId","process","env","NODE_ENV","data","debugId","isDebugEnabled","undefined","Object","prototype","hasOwnProperty","call","copy","defineProperty","value","writable","enumerable","result"],"mappings":";;;;;AAAA;;AAEO,IAAMA,WAAW,GACtBC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACI,UAAIC,IAAJ,EAAaC,OAAb;AAAA,SAAoCD,IAApC;AAAA,CADJ,GAEI,UAAIA,IAAJ,EAAaC,OAAb,EAAoC;AAClC,MAAI,CAACC,uBAAD,IAAmBD,OAAO,KAAKE,SAAnC,EAA8C;AAC5C,WAAOH,IAAP;AACD;;AAED,MAAI,OAAOA,IAAP,KAAgB,QAAhB,IAA4BA,IAAI,KAAK,IAAzC,EAA+C;AAC7C,QAAI,CAACI,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCP,IAArC,EAA2C,UAA3C,CAAL,EAA6D;AAC3D,UAAMQ,IAAI,qBAAQR,IAAR,CAAV;AACAI,MAAAA,MAAM,CAACK,cAAP,CAAsBD,IAAtB,EAA4B,UAA5B,EAAwC;AACtCE,QAAAA,KAAK,EAAET,OAD+B;AAEtCU,QAAAA,QAAQ,EAAE,KAF4B;AAGtCC,QAAAA,UAAU,EAAE;AAH0B,OAAxC;AAKA,aAAOJ,IAAP;AACD;AACF;;AAED,MAAI,OAAOR,IAAP,KAAgB,UAApB,EAAgC;AAC9B,WAAS,YAAa;AACpB,UAAMa,MAAM,GAAGb,IAAI,MAAJ,mBAAf;AACA,aAAOJ,WAAW,CAACiB,MAAD,EAASZ,OAAT,CAAlB;AACD,KAHD;AAID;;AAED,SAAOD,IAAP;AACD,CA5BA","sourcesContent":["import { isEnabled as isDebugEnabled } from './debugEnabled';\n\nexport const withDebugId =\n  process.env.NODE_ENV === 'production'\n    ? <T>(data: T, debugId: string): T => data\n    : <T>(data: T, debugId: string): T => {\n        if (!isDebugEnabled || debugId === undefined) {\n          return data;\n        }\n\n        if (typeof data === 'object' && data !== null) {\n          if (!Object.prototype.hasOwnProperty.call(data, '_debugId')) {\n            const copy = { ...data };\n            Object.defineProperty(copy, '_debugId', {\n              value: debugId,\n              writable: false,\n              enumerable: false,\n            });\n            return copy;\n          }\n        }\n\n        if (typeof data === 'function') {\n          return (((...args) => {\n            const result = data(...args);\n            return withDebugId(result, debugId);\n          }) as unknown) as T;\n        }\n\n        return data;\n      };\n"],"file":"withDebugId.js"}