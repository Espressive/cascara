---
title: Modules
propTable: ActionButton.js
type: 'module'
public: false
---

There are two types of modules:

- `action` modules that allow the User to do something and
- `data` modules that display formatted data

## Action modules

Action modules can be used in `Table` or `Form` and render HTML buttons. If the button is clicked, the `Table` or `Form` will emit an `onAction` event, passing two parameters:

| parameter   | type     | description                                                                                        |
| ----------- | -------- | -------------------------------------------------------------------------------------------------- |
| action      | `Object` | an object that describes the action module that was clicked                                        |
| action.name | `String` | the `name` you give to your action module. Use this to identify which button was clicked           |
| data        | `Object` | in `Form` it's the form data. \n in `Table` is the data row sibling to the button that was clicked |

At the moment, these are the available `action` modules:

- button
- edit

### Using an action module

Action modules are specified as part of the `actions` prop as follows:

```js
const actions = {
  {
    modules: [
      // action module objects go here
    ],
  }
}
```

### Action module shape

Use the following properties to configure your `action` modules:

| property | type              | (accepted) value                                                             | description                                                |
| -------- | ----------------- | ---------------------------------------------------------------------------- | ---------------------------------------------------------- |
| module   | required `String` | enum: [`button`, `edit`]                                                     | specifies the type of module                               |
| name     | required `String` |                                                                              | the action name that will passed to the `onAction` handler |
| content  | required `String` |                                                                              | the button text                                            |
| size     | optional `String` | enum: [`mini`, `tiny`, `small`, `medium`, `large`, `big`, `huge`, `massive`] | the button size                                            |

#### Button

This action module renders a simple button, use it for custom actions.

Adding this module to your **Cascara** `Table` or `Form` would look like this:

```jsx

---
title: Action of type 'button' displayed in a Table
---

<Table
  actions={{
    actionButtonMenuIndex: -1,
    modules: [
      {
        module: 'button',
        name: 'test',
        content: 'Test',
        size: 'small',
      },
    ],
  }}
  data={[
    {
      id: 1,
      userEmail: 'john@doe.it',
      userName: 'John Doe',
    },
  ]}
  dataConfig={{
    display: [
      {
        attribute: 'id',
        isEditable: false,
        isLabeled: false,
        label: 'ID',
        module: 'number',
      },
      {
        attribute: 'userEmail',
        isEditable: false,
        isLabeled: false,
        label: 'eMail',
        module: 'text',
      },
      {
        attribute: 'userName',
        isEditable: false,
        isLabeled: false,
        label: 'Name',
        module: 'text',
      },
    ],
  }}
  onAction={(action, record) => {
    console.clear();
    console.log(`Action ${action.name} invoked`);
    console.table(record);

    switch (action.name) {
      case 'test': // this has to be the same as your action name
        console.log(`Your action '${action.name}' has been invoked!`)
        break;
    }
  }}
  uniqueIdAttribute={'id'}
/>
```

#### Edit

This is a special action module fully controled by `esp-auth`. Use it when you want the data to be editable. It will render 3 types of button depending on the `edit` state of the parent component.

Additional to the props of the afore explained `button` module, the following properties can be specified to allow i18n:

| property    | type                  | description                                                                                             |
| ----------- | --------------------- | ------------------------------------------------------------------------------------------------------- |
| module      | required `String`     | specifies the type of module, in this case `edit`                                                       |
| name        | NOT required `String` | since this module is controlled by `esp-auth`, it doesn't require a name                                |
| content     | required `String`     | since this module is controlled by `esp-auth`, it doesn't accept content but you have the options below |
| cancelLabel | optional `String`     | the text for the `cancel` button                                                                        |
| editLabel   | optional `String`     | the text for the `edit` button                                                                          |
| saveLabel   | optional `String`     | the text for the `save` button                                                                          |

Adding this module to your **Cascara** `Table` or `Form` would look like this:

```jsx

---
title: Action of type 'button' displayed in a Table
---

<Table
  actions={{
    actionButtonMenuIndex: -1,
    modules: [
      {
        module: 'edit',
        cancelLabel: 'Cancelar',
        editLabel: 'Editar',
        saveLabel: 'Guardar',
      },
    ],
  }}
  data={[
    {
      id: 1,
      userEmail: 'john@doe.it',
      userName: 'John Doe',
    },
  ]}
  dataConfig={{
    display: [
      {
        attribute: 'id',
        isEditable: false,
        isLabeled: false,
        label: 'ID',
        module: 'number',
      },
      {
        attribute: 'userEmail',
        isEditable: true,
        isLabeled: false,
        label: 'eMail',
        module: 'text',
      },
      {
        attribute: 'userName',
        isEditable: true,
        isLabeled: false,
        label: 'Name',
        module: 'text',
      },
    ],
  }}
  onAction={(action, record) => {
    console.clear();
    console.log(`Action ${action.name} invoked`);
    console.table(record);

    switch (action.name) {
      case 'test': // this has to be the same as your action name
        console.log(`Your action '${action.name}' has been invoked!`)
        break;
    }
  }}
  uniqueIdAttribute={'id'}
/>
```

## Data modules

Data modules display formatted data to the User, adding the possibility to edit the data.

At the moment, these are the available `data` modules:

- checkbox
- email
- number
- radio
- select
- text
- textaread

WIP
